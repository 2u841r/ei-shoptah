<div class="countdown">
  Next issue in: <span id="timer">Loading...</span>
</div>

<script>
  function updateTimer() {
    const now = new Date();
    const nextThursday = new Date();
    
    // Set to next Thursday 9 PM
    nextThursday.setDate(now.getDate() + ((4 + 7 - now.getDay()) % 7));
    nextThursday.setHours(21, 0, 0, 0);

    // If we're past Thursday 9 PM, go to next week
    if (now > nextThursday) {
      nextThursday.setDate(nextThursday.getDate() + 7);
    }

    const diff = nextThursday - now;
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);

    const text = `${days}D, ${hours}H, ${minutes}M ${seconds}s`;
    document.getElementById('timer').textContent = text;
  }

  // Update immediately and then every second
  updateTimer();
  setInterval(updateTimer, 1000);
</script>

<style>
  .countdown {
    text-align: center;
    background-color: #f0f0f0;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
    color: #333;
    white-space: nowrap;
  }
</style>
